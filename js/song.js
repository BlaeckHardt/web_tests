// Diccionario con detalles de canciones (puedes agregar más elementos)

const canciones = {
    "Master of Puppets": `End of passion play, crumbling away\nI'm your source of self-destruction\nVeins that pump with fear, sucking darkest clear\nLeading on your death's construction\nTaste me, you will see\nMore is all you need\nDedicated to\nHow I'm killing you\nCome crawling faster (faster)\nObey your master (master)\nYour life burns faster (faster)\nObey your master, master\nMaster of puppets, I'm pulling your strings\nTwisting your mind and smashing your dreams\nBlinded by me, you can't see a thing\nJust call my name 'cause I'll hear you scream\nMaster, master\nJust call my name 'cause I'll hear you scream\nMaster, master\nNeedlework the way, never you betray\nLife of death becoming clearer\nPain monopoly, ritual misery\nChop your breakfast on a mirror\nTaste me, you will see\nMore is all you need\nDedicated to\nHow I'm killing you\nCome crawling faster (faster)\nObey your master (master)\nYour life burns faster (faster)\nObey your master, master\nMaster of puppets, I'm pulling your strings\nTwisting your mind and smashing your dreams\nBlinded by me, you can't see a thing\nJust call my name 'cause I'll hear you scream\nMaster, master\nJust call my name 'cause I'll hear you scream\nMaster, master\n(Master, master, master, master)\nMaster, master, where's the dreams that I've been after?\nMaster, master, you promised only lies\nLaughter, laughter, all I hear or see is laughter\nLaughter, laughter, laughing at my cries\nFix me!\nHell is worth all that, natural habitat\nJust a rhyme without a reason\nNever-ending maze, drift on numbered days\nNow your life is out of season\nI will occupy\nI will help you die\nI will run through you\nNow I rule you too\nCome crawling faster (faster)\nObey your master (master)\nYour life burns faster (faster)\nObey your master, master\nMaster of puppets, I'm pulling your strings\nTwisting your mind and smashing your dreams\nBlinded by me, you can't see a thing\nJust call my name 'cause I'll hear you scream\nMaster, master\nJust call my name 'cause I'll hear you scream\nMaster, master`,
    "Shepherd of Fire": `Let's take a moment and break the ice\nSo my intentions are known\nSee, I have pity in watching you suffer\nI know the feeling of being damned alone\nI got a storybook of my own\nDon't you see I am your pride\nAgent of wealth\nBearer of needs? (And you know it's right)\nI am your war\nArming the strong\nAiding the weak\nKnow me by name\nShepherd of fire\nWell, I can promise you paradise\nNo need to serve on your knees\nAnd when you're lost in the darkest of hours\nTake a moment and tell me who you see\nWon't tell you who not to be\nNow you know I am your pride\nAgent of wealth\nBearer of needs (and you know it's right)\nI am your war\nArming the strong\nAiding the weak\nKnow me by name\nShepherd of fire\nDisciple of the cross and champion in the suffering\nImmerse yourself into the kingdom of redemption\nPardon your mind through the chains of the divine\nMake way for the shepherd of fire\nThrough the ages of time\nI've been known for my hate\nBut I'm a dealer of simple choices\nFor me, it's never too late\nI am your pride\nAgent of wealth\nBearer of needs (and you know it's right)\nI am your war\nArming the strong\nAiding the weak\nI am your wrath\nI am your guilt\nI am your lust (and you know it's right)\nI am your law\nI am your scar\nI am your trust\nKnow me by name\nShepherd of fire`,
    "El príncipe de la dulce pena": `Ven, recuéstate en mi soledad\nLa amargura te acariciará\nVen y dale otra oportunidad\nA la fría oscuridad\nSiniestra noche, amargura y dolor\nY en una lápida hacer el amor\nClavo mis dientes en tu blanca piel\nHoy tengo sed\nQue el miedo bañe tu mirada\nQue el viento gima por los dos\nY la sangre caerá\nAntes que la luz del sol nos haga arder\nQuiero morir en ti\nCamposanto, lúgubre jardín\nCruces góticas alrededor\nTumba abierta, dulce es el olor\nEmbriágate en el festín\nLlora la luna blasfemias en ti\nLlora tristezas sobre mi ataúd\nCuerpos sin vida, mullido colchón\nHazme el amor\nQue el miedo bañe tu mirada\nQue el viento gima por los dos\nY la sangre caerá\nAntes que la luz del sol nos haga arder\nQuiero morir en ti\nQue el mal me haga hoy su esclava\nLa muerte me haga estremecer\nQue el miedo bañe tu mirada\nQue el viento gima por los dos\nY la sangre caerá\nAntes que la luz del sol nos haga arder\nQuiero morir en ti\nVen, recuéstate en mí\nLa amargura vendrá\nProbarás el sabor\nDe la muerte al besar\nDecadencia, amargura\nDepresivo amor\nVen y bebe de mí\nMorirás junto a mí\nY esta tumba será\nNuestro nicho de amor\nLuna llena, luna muerta\nDepresivo amor`,
    "The emptyness machine": `Your blades are sharpened with precision\nFlashing your favorite point of view\nI know you're waiting in the distance\nJust like you always do\nJust like you always do\nAlready pulling me in\nAlready under my skin\nAnd I know exactly how this ends, I\nLet you cut me open\nJust to watch me bleed\nGave up who I am for who you wanted me to be\nDon't know why I'm hoping\nFor what I won't receive\nFalling for the promise of\nThe emptiness machine\n(The emptiness machine)\nGoing around like a revolver\nIt's been decided how we lose\n'Cause there's a fire under the altar\nI keep on lying to\nI keep on lying to\nAlready pulling me in\nAlready under my skin\nAnd I know exactly how this ends, I\nLet you cut me open\nJust to watch me bleed\nGave up who I am for who you wanted me to be\nDon't know why I'm hoping\nFor what I won't receive\nFalling for the promise of\nThe emptiness machine\nI only wanted to be part of something\nI only wanted to be part of, part of\nI only wanted to be part of something\nI only wanted to be part of, part of\nI only wanted to be part of something\nI only wanted to be part\nI let you cut me open\nJust to watch me bleed\nGave up who I am for who you wanted me to be\nDon't know why I'm hoping\nSo fucking naive\nFalling for the promise of\nThe emptiness machine\nThe emptiness machine\n(I only wanted to be part of something)\nThe emptiness machine\n(I only wanted to be part of)\nThe emptiness machine`,
    "Hail to the king": `Watch your tongue or have it cut from your head\nSave your life by keeping whispers unsaid\nChildren roam the streets, now orphans of war\nBodies hanging in the streets to adore\nRoyal flames will carve a path in chaos\nBringing daylight to the night\nDeath is riding into town with armor\nThey've come to take all your rights\nHail to the king\nHail to the one\nKneel to the crown\nStand in the sun\nHail to the king\n(Hail, hail, hail!)\nThe king\nBlood is spilt while holding keys to the throne\nBorn again, but it's too late to atone\nNo mercy from the edge of the blade\nDare escape and learn the price to be paid\nLet the water flow with shades of red now\nArrows black out all the light (light)\nDeath is riding into town with armor\nThey've come to grant you your rights\nHail to the king\nHail to the one\nKneel to the crown\nStand in the sun\nHail to the king\n(Hail, hail, hail!)\nThe king\nThere's a taste of fear\nWhen the henchmen call\nIron fist to tame the land\nIron fist to claim it all\nHail to the king\nHail to the one\nKneel to the crown\nStand in the sun\nHail to the king\nHail to the one\nKneel to the crown\nStand in the sun\nHail to the king\n(Hail, hail, hail!)`,
    "Atlantia": "Descripción y contenido de la canción no disponible"
};

// Obtener los parámetros de la URL
const params = new URLSearchParams(window.location.search);
const nombreCancion = decodeURIComponent(params.get('nombre'));

// Obtener los elementos de la página
const songTitle = document.getElementById("song-title");
const songContentDiv = document.getElementById("song-content");

// Mostrar el contenido si existe en el diccionario
if (canciones[nombreCancion]) {
    const parrafos = canciones[nombreCancion].split('\n');
    parrafos.forEach(parrafo => {
        songTitle.textContent = nombreCancion;
        const p = document.createElement("p");
        p.textContent = parrafo;
        songContentDiv.appendChild(p);
    });
} else {
    songContentDiv.innerHTML = `<p>No se encontró información para esta canción.</p>`;
}

// Resaltar el párrafo que está en el centro de la pantalla
const highlightCentralParagraph = () => {
    const paragraphs = document.querySelectorAll('#song-content p');
    let centralIndex = -1;
    let closestDistance = Infinity;

    paragraphs.forEach((p, index) => {
        const rect = p.getBoundingClientRect();
        const distanceFromCenter = Math.abs(rect.top + rect.height / 2 - window.innerHeight / 2);
        
        if (distanceFromCenter < closestDistance) {
            closestDistance = distanceFromCenter;
            centralIndex = index;
        }
    });

    // Remover la clase de todos los párrafos
    paragraphs.forEach(p => p.classList.remove('highlight'));

    // Resaltar solo el párrafo central
    if (centralIndex !== -1) {
        paragraphs[centralIndex].classList.add('highlight');
    }
};

// Agregar evento de scroll
window.addEventListener('scroll', highlightCentralParagraph);
